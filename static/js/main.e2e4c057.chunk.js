(this["webpackJsonpuse-scroll-spy-example"]=this["webpackJsonpuse-scroll-spy-example"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),l=n(4),c=n(1),s=(n(2),function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)});var u=function(e,t){var n=void 0===t?{}:t,a=n.root,o=void 0===a?null:a,i=n.rootMargin,l=void 0===i?"":i,c=n.threshold,u=void 0===c?.5:c,d=Object(r.useState)(Array(e).fill({})),f=d[0],m=d[1],p=Object(r.useRef)(new window.IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>u&&(window.history.replaceState(null,"","#"+e.target.id),m((function(t){return t.map((function(t){var n;return s(s({},t),{isActive:(null===(n=t.ref)||void 0===n?void 0:n.id)===e.target.id})}))})))}))}),{root:o,rootMargin:l,threshold:u}));Object(r.useEffect)((function(){m((function(t){for(var n=[],a=0;a<e;a++)n[a]={ref:t[a].ref||Object(r.createRef)().current,isActive:t[a].isActive||!1};return n}));var t=p.current;return f.forEach((function(e){var n=e.ref;return n&&t.observe(n)})),function(){f.forEach((function(e){var n=e.ref;return n&&t.unobserve(n)}))}}),[e]);var v=Object(r.useCallback)((function(e,t){e.id||console.warn("WARNING: A ref set using use-scroll-spy doesn't have an ID which could be problematic for intended usage."),m((function(n){return n[t]=s(s({},n[t]),{ref:e}),n}))}),[m]);return[f,v]};function d({lesson:e,scrollItems:t,handleRemoveLesson:n}){const r=t[Symbol.iterator]();return a.a.createElement("nav",{className:"Sidebar"},a.a.createElement("ul",{className:"Sidebar-list"},Object.entries(e).map(([e,t])=>a.a.createElement("li",{className:"Sidebar-mainListItem",key:e},e,a.a.createElement("ul",null,t.map(e=>{const t=r.next().value,n=t.isActive,o=t.ref;return a.a.createElement("li",{key:e.id,className:"Sidebar-secondaryListItem"+(n?" Sidebar-secondaryListItem--active":"")},a.a.createElement("a",{className:"Sidebar-link",href:"#".concat(e.id),onClick:t=>{t.preventDefault(),window.history.replaceState(null,"","#".concat(e.id)),null===o||void 0===o||o.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}},e.title))}))))),a.a.createElement("p",null,"The scroll-spy library works with dynamic sections!"),a.a.createElement("button",{onClick:n},"Remove a lesson"))}const f={Prepare:[{id:"red",title:"Hello red!"},{id:"pink",title:"Hello pink!"}],"Design your repair kit":[{id:"orange",title:"Hello orange!"},{id:"green",title:"Hello green!"}],"Test your patch":[{id:"blue",title:"Hello blue!"}]};function m(){const e=Object(r.useState)(f),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object.values(n).flat(1),s=u(i.length),m=Object(c.a)(s,2),p=m[0],v=m[1];return a.a.createElement("div",{className:"App"},a.a.createElement(d,{scrollItems:p,lesson:n,handleRemoveLesson:()=>{o(e=>{const t=Object.keys(e);return delete e[t[Math.floor(Math.random()*t.length)]],Object(l.a)({},e)})}}),a.a.createElement("div",{className:"App-content"},i.map((e,t)=>a.a.createElement("section",{key:e.id,id:e.id,className:"App-section App-section--".concat(e.id),ref:e=>{e&&v(e,t)}}))))}i.a.render(a.a.createElement(m,null),document.getElementById("root"))},2:function(e,t,n){},5:function(e,t,n){e.exports=n(12)}},[[5,1,2]]]);
//# sourceMappingURL=main.e2e4c057.chunk.js.map